{%extends 'Template.html'%}
{%block mainBlock%}
<!-- this is for login-->
<form allign="center" action="/FormProcessing" class="form-container" method = 'POST'>
  <h1>Login, If you have an account</h1>

  <label for="email"><b>Email</b></label>
  <input type="text" placeholder="Enter Email" name="email" onclick="ValidateEmail('Email')"required>

  <label for="psw"><b>Password</b></label>
  <input type="password" placeholder="Enter Password" name="psw" required>

  <button type="submit" class="btn">Login</button>
  <!-- <button type="button" class="btn cancel" onclick="closeForm()">Close</button> -->
</form>
<!-- this is for registration--->
<form method='post' name="myForm"  id='reg' onsubmit="return subreg()" class="form-container">
  <br>
  <h1>Register, to create an account</h1>
  <br><label for="FirstName"><b>First Name</b></label>
  <input type="text" placeholder="Enter your First Name" name="FirstName" required>

  <br><label for="SurName"><b>Surname</b></label>
  <input type="text" placeholder="Enter your Last Name" name="SurName" required>

  <br><label for="Email"><b>Email</b></label>
  <input type="text" placeholder="Enter Email" name="Email"required>

  <br><label for="Password"><b>Password</b></label>
  <input type="Password" placeholder="Create a Password" name="Password" onclick="ValidateEmail(document.myForm.Email)"required>

  <br><label for="age"><b>Age</b></label>
  <input type="INTEGER" placeholder="Enter your age" name="Age" onclick="return validateForm()" required>

  <br><label for="Gender"><b>Please select your gender:</b></label>
  <select class="style" name="Gender">
    <option value="Male">Male</option>
    <option value="Female">Female</option>
    <option value="Not mention">Not mention</option>
  </select>
  <br> <a href="/Welcome"> <button type="submit"  class="btn" >Submit</button> </a>

</form>
<span id='txt'> </span>
<script>
//reference adpated form: https://stackoverflow.com/questions/10713749/javascript-validation-numbers-only


  function validateForm(){

  var z = document.forms["myForm"]["Age"].value;

  if(!/^[0-9]+$/.test(z)){
    alert("Please remember to only enter numbers to state your Age, Thankyou!")
  }
}
//end refernce
// reference adapted from: https://www.w3resource.com/javascript/form/email-validation.php
   function ValidateEmail(inputText)
{
   var mailformat = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
   if(inputText.value.match(mailformat))
{
      document.myForm.Email.focus();
   return true;
}
   else
{
     alert("You have entered an invalid email address!");
     document.myForm.Email.focus();
   return false;
}
}
//end reference
  function subreg() {
    var FirstName = document.forms["reg"]["FirstName"].value;
    var SurName = document.forms["reg"]["SurName"].value;
    var Email = document.forms["reg"]["Email"].value;
    var Password = document.forms["reg"]["Password"].value;
    var Age = document.forms["reg"]["Age"].value;
    var Gender = document.forms["reg"]["Gender"].value;

    params = 'FirstName=' + FirstName + '&SurName=' + SurName  + '&Email=' + Email+ '&Password=' + Password + '&Age=' + Age + '&Gender=' + Gender;
    var xhttp = new XMLHttpRequest();
    xhttp.open("POST", '/Form', true); // true is asynchronous
    xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    xhttp.onload = function() {
      if (xhttp.readyState === 4 && xhttp.status === 200) {
        console.log(xhttp.responseText);
        document.getElementById("txt").innerHTML = xhttp.responseText;
      } else {
        console.error(xhttp.statusText);
      }
    };
    xhttp.send(params);
    return false;
  }
</script>
{%endblock%}
